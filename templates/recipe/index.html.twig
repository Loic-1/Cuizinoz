{% extends 'base.html.twig' %}

{% block title %}Hello RecipeController!{% endblock %}

{% block body %}

<h2>Nos recettes</h2>

<div class="recipe_container">

    {% for recipe in recipes %}

    <div class="recipe_card">

        <figure class="recipe_image_container">
            {% if recipe.photos|length > 0 %}

            {# affiche la premi√®re photo de la collection photos de recipe #}
            <img src="{{ recipe.photos|first.url }}" alt="{{ recipe.photos|first.alt }}">

            {# recipe.photos == null -> pas de galerie de photos pour cette recette #}
            {% else %}

            <img src="#" alt="Pas encore de photo">
            {% endif %}
        </figure>
        <div class="recipe_infos">
            <p>{{ recipe.name }}</p>
            <p>Une recette de {{ recipe.user.pseudo }}</p>
            <p>{{ recipe.category.name }}</p>
            {# <p>Note: {{ recipe.note }} (temp)</p> #}
            <i class="fa-regular fa-heart"></i>
        </div>
    </div>
    {% endfor %}
</div>

{# PARTIE FORM POUR RAJOUTER UNE RECETTE #}

{{ form_errors(addRecipeForm) }}
{{ form_start(addRecipeForm) }}

{{ form_row(addRecipeForm.name) }}
{{ form_row(addRecipeForm.preparationTime) }}
{{ form_row(addRecipeForm.instructions) }}
{# {{ form_row(addRecipeForm.note) }} #}
{{ form_row(addRecipeForm.category) }}

<button type="submit">Publier recette</button>

{{ form_end(addRecipeForm) }}

{% endblock %}